# ðŸŒ™ MoonBit Online

MoonBitã®WASMã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’åˆ©ç”¨ã—ãŸãƒ–ãƒ©ã‚¦ã‚¶ä¸Šã§å‹•ä½œã™ã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã€‚

![Screenshot](results/screenshot-multifile.png)

## ç‰¹å¾´

- ðŸŒ **å®Œå…¨ãƒ–ãƒ©ã‚¦ã‚¶ãƒ™ãƒ¼ã‚¹**: ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ä¸è¦ã€å…¨ã¦ã®å‡¦ç†ãŒãƒ–ãƒ©ã‚¦ã‚¶å†…ã§å®Œçµ
- âš¡ **é«˜é€Ÿã‚³ãƒ³ãƒ‘ã‚¤ãƒ«**: WASMç‰ˆã®MoonBitã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ä½¿ç”¨
- ðŸ“„ **è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œ**: go-playgroundæ–¹å¼ã§è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆ
- ðŸ”— **URLå…±æœ‰**: ã‚³ãƒ¼ãƒ‰ã‚’URLã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ã¦ç°¡å˜ã«å…±æœ‰
- ðŸŽ¨ **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰**: ç›®ã«å„ªã—ã„ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒž
- ðŸ“± **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
git clone https://github.com/podhmo/moonbit-online.git
cd moonbit-online

npm install
npm run dev
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:5173/` ã‚’é–‹ãã¾ã™ã€‚

### ãƒ“ãƒ«ãƒ‰

```bash
npm run build
```

ãƒ“ãƒ«ãƒ‰æˆæžœç‰©ã¯ `dist/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”Ÿæˆã•ã‚Œã¾ã™ã€‚

## ä½¿ã„æ–¹

### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰

ã‚¨ãƒ‡ã‚£ã‚¿å³ä¸Šã®ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹ã‹ã‚‰ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’é¸æŠžã§ãã¾ã™ï¼š

- **Hello**: ã‚·ãƒ³ãƒ—ãƒ«ãªå˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¾‹
- **Multiple Files**: è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã£ãŸä¾‹

### å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«

é€šå¸¸ã®MoonBitã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°ã—ã¦å®Ÿè¡Œã—ã¾ã™ï¼š

```moonbit
fn main {
  println("Hello, MoonBit!")
  let x = 42
  println("x = \{x}")
}
```

### è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆgo-playgroundæ–¹å¼ï¼‰

`-- filename --`ã§åŒºåˆ‡ã‚‹ã“ã¨ã§è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ãˆã¾ã™ï¼š

```moonbit
fn main {
  hello()
}
-- lib.mbt --
pub fn hello() -> Unit {
  println("Hello from lib.mbt!")
}
```

ã‚ˆã‚Šè¤‡é›‘ãªä¾‹ï¼š

```moonbit
fn main {
  let result = add(10, 20)
  println("10 + 20 = \{result}")
  
  let nums = [1, 2, 3, 4, 5]
  let total = sum(nums)
  println("Sum = \{total}")
}
-- lib.mbt --
pub fn add(a : Int, b : Int) -> Int {
  a + b
}

pub fn sum(arr : Array[Int]) -> Int {
  let mut total = 0
  for i = 0; i < arr.length(); i = i + 1 {
    total = total + arr[i]
  }
  total
}
```

## åˆ¶é™äº‹é …

ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ã¯ä»¥ä¸‹ã®åˆ¶é™ãŒã‚ã‚Šã¾ã™ï¼š

- ðŸ”¤ **åŸºæœ¬çš„ãªã‚¨ãƒ‡ã‚£ã‚¿**: ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã€ã‚³ãƒ¼ãƒ‰è£œå®Œã¯ã‚ã‚Šã¾ã›ã‚“
- ðŸ“¦ **ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†**: å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆã¯ã§ãã¾ã›ã‚“

### ã‚µãƒãƒ¼ãƒˆæ¸ˆã¿æ©Ÿèƒ½ âœ…

- âœ… **æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: `println`ã€`print`ãªã©ã®æ¨™æº–é–¢æ•°ãŒä½¿ç”¨ã§ãã¾ã™
- âœ… **è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«**: go-playgroundæ–¹å¼ã§è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚µãƒãƒ¼ãƒˆ


## ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘

### æŒ¯ã‚Šè¿”ã‚Š

å®Ÿéš›ã®ä½œæ¥­ã®éš›ã«ã¯ ./TODO.md ã‚’èª­ã¿ä¸€ã¤ãšã¤ä½œæ¥­ã‚’é€²ã‚ã¦ãã ã•ã„ã€‚ãã—ã¦å®Œäº†ã—ãŸå ´åˆã¯ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã‚’onã«ã—ã¦ãã ã•ã„ã€‚
å¿…ãšä½œæ¥­ã®æœ€å¾Œã«ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚
æˆåŠŸã—ã¦ã‚‚å¤±æ•—ã—ã¦ã‚‚å¸¸ã«ã€ŒæŒ¯ã‚Šè¿”ã‚Šã€ã‚’results/`%Y%m%d-%H%M.md`-(ok|ng).mdã«è¨˜éŒ²ã—ã¦ãã ã•ã„ã€‚ã€ŒæŒ¯ã‚Šè¿”ã‚Šã€ã¨ã¯ ./prompts.md ã«æ›¸ã‹ã‚ŒãŸæŒ¯ã‚Šè¿”ã‚Šã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®å®Ÿè¡Œã®ã“ã¨ã§ã™ã€‚


## é–‹ç™º

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
moonbit-online/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app.tsx          # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ compiler.ts      # MoonBitã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â””â”€â”€ main.tsx         # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ public/              # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ results/             # æŒ¯ã‚Šè¿”ã‚Šãƒ»ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
â”œâ”€â”€ index.html           # HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ vite.config.ts       # Viteè¨­å®š
â”œâ”€â”€ tsconfig.json        # TypeScriptè¨­å®š
â”œâ”€â”€ TODO.md              # ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ
â””â”€â”€ README.md            # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

### ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒ•ãƒ­ãƒ¼

1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒMoonBitã‚³ãƒ¼ãƒ‰ã‚’å…¥åŠ›
2. `@moonbit/moonpad-monaco`ã‚’ä½¿ç”¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ï¼ˆJSå‡ºåŠ›ï¼‰
3. `moon.compile()` APIã§JavaScriptã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆ
4. `moon.run()` APIã§å®Ÿè¡Œã—ã€ReadableStreamã§å‡ºåŠ›ã‚’å–å¾—
5. çµæžœã‚’ç”»é¢ã«è¡¨ç¤º

**æŠ€è¡“çš„ãªè©³ç´°**:
- JSå‡ºåŠ›æ–¹å¼ã«ã‚ˆã‚Šæ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè‡ªå‹•çš„ã«å«ã¾ã‚Œã‚‹
- Worker filesï¼ˆmoonc-worker.js, lsp-server.jsç­‰ï¼‰ã¯public/ã«é…ç½®ã—ã€ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¹ã‹ã‚‰å‚ç…§
- moonbit-tourã®å®Ÿè£…ã‚’å‚è€ƒã«ã€@moonbit/moonpad-monaco@0.1.202510171ã‚’ä½¿ç”¨

### URLå…±æœ‰ã®ä»•çµ„ã¿

ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®æ‰‹é †ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰/ãƒ‡ã‚³ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ï¼š

```typescript
// ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
const encoded = btoa(encodeURIComponent(code));
const url = `${origin}${pathname}#${encoded}`;

// ãƒ‡ã‚³ãƒ¼ãƒ‰
const code = decodeURIComponent(atob(hash));
```

## å‚è€ƒ

- [MoonBitå…¬å¼ã‚µã‚¤ãƒˆ](https://www.moonbitlang.com/)
- [MoonBit GitHub](https://github.com/moonbitlang)
- [moonpad-monaco](https://github.com/moonbitlang/moonpad-monaco) - å‚è€ƒã«ã—ãŸå®Ÿè£…

---

è©³ã—ã„ä»•æ§˜ã¯ [spec.md](./spec.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
ä½œæ¥­çŠ¶æ³ã¯ [TODO.md](./TODO.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
